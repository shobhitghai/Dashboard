/*! Fashion_Dashboard 1.0.0 2015-06-12 */
function getDeviceState(){var a=window.getComputedStyle(document.querySelector(".state-indicator"),":before").getPropertyValue("content");return a=a.replace(/"/g,""),a=a.replace(/'/g,"")}(function(){this.app={}}).call(this),function(){app.config={hello:"world"}}(app);var indicator=document.createElement("div");indicator.className="state-indicator",document.body.appendChild(indicator),function(){window.console||(window.console={});for(var a=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],b=function(){},c=0;c<a.length;c++)window.console[a[c]]||(window.console[a[c]]=b)}(),$(function(){app.util.initModules()}),function(){app.util={initModules:function(a){var b=[],c=[],d='[class^="mod-"], [class*=" mod-"]';targets=$(d,a),a=$(a),0===a.length&&(a=$(document)),a.each(function(){$(this).filter(d).length&&(targets=targets.add($(this)))}),targets.each(function(){var a=$(this).prop("class").match(/mod-([^ ]+)/g);$.each(a,function(c){var d=a[c].replace("mod-","");app[d]&&b.push(d)})}),$.each(b,function(a,b){-1===$.inArray(b,c)&&c.push(b)}),b=c;var e=[];return $.each(b,function(c){app[b[c]].init?app[b[c]].settings.defer?e.push(b[c]):app[b[c]].init(a):console.log("initModule: The module '"+b[c]+"' does not have an init method")}),$.each(e,function(b){app[e[b]].init?app[e[b]].init(a):console.log("initModule: The module '"+e[b]+"' does not have an init method")}),b}}}(app),function(){app["tile-section"]={settings:{target:"mod-tile-section"},init:function(a){var b=App.Template["tile-opportunity"];$.ajax({url:"http://localhost:3001/api/getData",success:function(a){app["tile-section"].bindTemplate(a,b)},error:function(a){console.log("err")}})},bindTemplate:function(a,b){var c=$.parseJSON(a);$(".section-opportunity").html(b({"tile-name":"Data count","tile-percent":c.length,"tile-percent-change":"","tile-period-param":"Count of rows"}))}}}(app),function(){app["shopper-engagement"]={settings:{target:".mod-shopper-engagement"},init:function(a){var b=this.settings,c=$(b.target).find("#shopper-engagement-chart");app["shopper-engagement"].renderChart(c)},renderChart:function(a){a.highcharts({chart:{type:"bar"},title:{text:"Shopper Engagement"},xAxis:{categories:[">10 mins","5-20 mins","2-5 mins","bounced"],title:{text:null}},yAxis:{min:0,title:{text:"Population (millions)",align:"high"},labels:{overflow:"justify"}},tooltip:{valueSuffix:" millions"},plotOptions:{bar:{dataLabels:{enabled:!0}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:100,floating:!0,borderWidth:1,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF",shadow:!0},credits:{enabled:!1},series:[{name:"Last Month",data:[107,31,635,203]},{name:"This Month",data:[133,156,947,408]}]})}}}(app),function(){app["shopper-profile"]={settings:{target:".mod-shopper-profile"},init:function(a){var b=this.settings,c=$(b.target).find("#shopper-profile-chart");app["shopper-profile"].renderChart(c)},renderChart:function(a){a.highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Shopper's profile"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0},series:{dataLabels:{enabled:!0,formatter:function(){return this.y},distance:-30,color:"white"}}},series:[{type:"pie",name:"Browser share",data:[{name:"Discount Sensitive",y:45.8,sliced:!0,selected:!0},["Fast fashion conscious",26.8],["Utility buyer",8.5],["Premium brand savy",6.2]]}],credits:{enabled:!1}})}}}(app),function(){app["revisit-frequency"]={settings:{target:".mod-revisit-frequency"},init:function(a){var b=this.settings,c=$(b.target).find("#revisit-frequency-chart");app["revisit-frequency"].renderChart(c)},renderChart:function(a){a.highcharts({chart:{type:"pie"},title:{text:"Revisit frequency"},yAxis:{title:{text:"Total percent market share"}},plotOptions:{pie:{shadow:!1},series:{dataLabels:{enabled:!0,formatter:function(){return"test"},distance:-30,color:"white"}}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},legend:{enabled:!0,layout:"vertical",align:"right",width:200,verticalAlign:"middle",useHTML:!0,labelFormatter:function(){return'<div style="text-align: left; width:50px;float:right;">'+this.name+"</div>"}},series:[{name:"Browsers",data:[["0-2 weeks",10],["2-4 weeks",15],["1-3 months",10],["3-6 months",35],["6-1 months",10],["> 1 year",20]],size:"100%",innerSize:"60%",showInLegend:!0,dataLabels:{enabled:!1}}],credits:{enabled:!1}})}}}(app);